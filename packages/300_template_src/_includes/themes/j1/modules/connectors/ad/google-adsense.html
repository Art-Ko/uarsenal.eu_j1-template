{% comment %}
 # -----------------------------------------------------------------------------
 #  ~/_includes/themes/j1/procedures/provider/ad/google-adsense.html
 #  Support of Advertising Provider Google Adsense for J1 Template
 #
 #  Product/Info:
 #  http://jekyll.one
 #
 #  Copyright (C) 2021 Juergen Adams
 #
 #  J1 Template is licensed under the MIT License.
 #  See: https://github.com/jekyll-one-org/J1 Template/blob/master/LICENSE
 # -----------------------------------------------------------------------------
 # Test data:
 #  liquid_var:  {{ liquid_var | debug }}
 # -----------------------------------------------------------------------------
{% endcomment %}

{% comment %} Liquid procedures
-------------------------------------------------------------------------------- {% endcomment %}

{% comment %} Variables
-------------------------------------------------------------------------------- {% endcomment %}
{% assign publisher_id = site.data.j1_config.advertising.google.publisher_id %}

{% comment %} Main
-------------------------------------------------------------------------------- {% endcomment %}

<script data-ad-client="{{publisher_id}}"
  $(document).ready(function() {
    var dependencies_met_page_finished = setInterval (function () {
      if (j1.getState() === 'finished') {
        async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
        clearInterval(dependencies_met_page_finished);
      }
  }, 25); // END dependencies_met_page_finished
</script>

{% comment %} to be checked
--------------------------------------------------------------------------------
<script data-ad-client="{{publisher_id}}"
    async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
</script>
-------------------------------------------------------------------------------- {% endcomment %}

{% comment %} Old Ads code
--------------------------------------------------------------------------------
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "{{publisher_id}}",
    enable_page_level_ads: true
  });
</script>
-------------------------------------------------------------------------------- {% endcomment %}
