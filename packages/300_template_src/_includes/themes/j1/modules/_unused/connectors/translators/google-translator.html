{% comment %}
 # -----------------------------------------------------------------------------
 #  ~/_includes/themes/j1/modules/connectors/translators/google-translator.html
 #  Connector for the Google Translator
 #
 #  Product/Info:
 #  http://jekyll.one
 #
 #  Copyright (C) 2022 Juergen Adams
 #
 #  J1 Template is licensed under the MIT License.
 #  See: https://github.com/jekyll-one-org/J1 Template/blob/master/LICENSE
 # -----------------------------------------------------------------------------
 # Test data:
 #  liquid_var:  {{ liquid_var | debug }}
 # -----------------------------------------------------------------------------
{% endcomment %}


{% comment %} Liquid var initialization
-------------------------------------------------------------------------------- {% endcomment %}

{% comment %} Set config files
-------------------------------------------------------------------------------- {% endcomment %}
{% assign environment         = site.environment %}
{% assign contentLanguage     = site.language %}
{% assign blocks              = site.data.blocks %}
{% assign modules             = site.data.modules %}
{% assign template_config     = site.data.j1_config %}

{% comment %} Set config data
-------------------------------------------------------------------------------- {% endcomment %}
{% assign translator_defaults = modules.defaults.translator.defaults %}
{% assign translator_settings = modules.translator.settings %}

{% comment %} Set config options
-------------------------------------------------------------------------------- {% endcomment %}
{% assign translator_options  = translator_defaults | merge: translator_settings %}


{% comment %} Main
-------------------------------------------------------------------------------- {% endcomment %}
<!-- [INFO   ] [j1.modules.connectors.translation     ] [ place callback for the Google Translator API ] -->
<script>
  function googleTranslateElementInit() {
    var gtAPI = new google.translate.TranslateElement({
      pageLanguage: '{{translator_options.contentLanguage}}',
      layout: google.translate.TranslateElement.FloatPosition.TOP_LEFT
    },
    'google_translate_element');
    j1.adapter.translator.postTranslateElementInit(gtAPI);
  }
</script>
