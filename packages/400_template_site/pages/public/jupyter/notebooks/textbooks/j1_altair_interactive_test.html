  <div class="cell text_cell">
    <button class="js-nbinteract-widget">
      Loading widgets...
    </button>
  </div>



<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Resources">Resources<a class="anchor-link" href="#Resources">&#182;</a></h3>
</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">altair</span> <span class="k">as</span> <span class="nn">alt</span>

<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span>

<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span>
</pre></div>

    </div>
</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Load-Vega-Datasets">Load Vega Datasets<a class="anchor-link" href="#Load-Vega-Datasets">&#182;</a></h3><p>To list all the available datsets, use list_datasets:</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">vega_datasets</span> <span class="kn">import</span> <span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Load-Theme">Load Theme<a class="anchor-link" href="#Load-Theme">&#182;</a></h3>
</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># %load ../themes/altair/spacy_base.py</span>
<span class="c1"># category: blue, green, purple following themes on spacy.io</span>
<span class="c1"># Note that the blue is the &quot;darker&quot; blue which meets WCAG AA contrast ratio standards</span>
<span class="n">spacy_category</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#077fa6&quot;</span><span class="p">,</span> <span class="s2">&quot;#047c5c&quot;</span><span class="p">,</span> <span class="s2">&quot;#6642d1&quot;</span><span class="p">]</span>

<span class="n">spacy_sequential</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;#8efcff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#6bddff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#46c0f5&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#0da6d9&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#018abb&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#006f9f&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#005583&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#003d68&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#00254e&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">spacy_diverging</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;#047c5c&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#50957b&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#81ad9b&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#afc5bc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#dedede&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#bacfdd&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#94c1db&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#66b2d9&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#09a4d7&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="c1"># --font-size-xs: 1.1rem;</span>
<span class="c1"># --font-size-sm: 1.3rem;</span>
<span class="c1"># --font-size-md: 1.35rem;</span>
<span class="c1"># --font-size-lg: 1.4rem;</span>
<span class="c1"># --font-size-code: 1.2rem;</span>


<span class="k">def</span> <span class="nf">spacy_base</span><span class="p">():</span>
    <span class="n">primary_color</span> <span class="o">=</span> <span class="s2">&quot;#077fa6&quot;</span>
    <span class="n">font_color</span> <span class="o">=</span> <span class="s2">&quot;#1a1e23&quot;</span>
    <span class="n">grey_color</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span>
    <span class="n">base_size_px</span> <span class="o">=</span> <span class="mi">16</span>
    <span class="n">md_font</span> <span class="o">=</span> <span class="n">base_size_px</span>
    <span class="n">sm_font</span> <span class="o">=</span> <span class="n">base_size_px</span> <span class="o">*</span> <span class="mf">0.8</span>
    <span class="n">lg_font</span> <span class="o">=</span> <span class="n">base_size_px</span> <span class="o">*</span> <span class="mf">1.35</span>

    <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;config&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;arc&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;fill&quot;</span><span class="p">:</span> <span class="n">primary_color</span><span class="p">},</span>
            <span class="s2">&quot;area&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;fill&quot;</span><span class="p">:</span> <span class="n">primary_color</span><span class="p">},</span>
            <span class="s2">&quot;circle&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;fill&quot;</span><span class="p">:</span> <span class="n">primary_color</span><span class="p">,</span> <span class="s2">&quot;stroke&quot;</span><span class="p">:</span> <span class="n">font_color</span><span class="p">,</span> <span class="s2">&quot;strokeWidth&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span>
            <span class="s2">&quot;line&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;stroke&quot;</span><span class="p">:</span> <span class="n">primary_color</span><span class="p">},</span>
            <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;stroke&quot;</span><span class="p">:</span> <span class="n">primary_color</span><span class="p">},</span>
            <span class="s2">&quot;point&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;stroke&quot;</span><span class="p">:</span> <span class="n">primary_color</span><span class="p">},</span>
            <span class="s2">&quot;rect&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;fill&quot;</span><span class="p">:</span> <span class="n">primary_color</span><span class="p">},</span>
            <span class="s2">&quot;shape&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;stroke&quot;</span><span class="p">:</span> <span class="n">primary_color</span><span class="p">},</span>
            <span class="s2">&quot;symbol&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;fill&quot;</span><span class="p">:</span> <span class="n">primary_color</span><span class="p">},</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="n">font_color</span><span class="p">,</span>
                <span class="s2">&quot;fontSize&quot;</span><span class="p">:</span> <span class="n">lg_font</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;axis&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;titleColor&quot;</span><span class="p">:</span> <span class="n">font_color</span><span class="p">,</span>
                <span class="s2">&quot;titleFontSize&quot;</span><span class="p">:</span> <span class="n">md_font</span><span class="p">,</span>
                <span class="s2">&quot;labelColor&quot;</span><span class="p">:</span> <span class="n">font_color</span><span class="p">,</span>
                <span class="s2">&quot;labelFontSize&quot;</span><span class="p">:</span> <span class="n">sm_font</span><span class="p">,</span>
                <span class="s2">&quot;gridColor&quot;</span><span class="p">:</span> <span class="n">grey_color</span><span class="p">,</span>
                <span class="s2">&quot;domainColor&quot;</span><span class="p">:</span> <span class="n">font_color</span><span class="p">,</span>
                <span class="s2">&quot;tickColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#fff&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;labelFontSize&quot;</span><span class="p">:</span> <span class="n">md_font</span><span class="p">,</span>
                <span class="s2">&quot;titleFontSize&quot;</span><span class="p">:</span> <span class="n">md_font</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;legend&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;titleColor&quot;</span><span class="p">:</span> <span class="n">font_color</span><span class="p">,</span>
                <span class="s2">&quot;titleFontSize&quot;</span><span class="p">:</span> <span class="n">md_font</span><span class="p">,</span>
                <span class="s2">&quot;labelColor&quot;</span><span class="p">:</span> <span class="n">font_color</span><span class="p">,</span>
                <span class="s2">&quot;labelFontSize&quot;</span><span class="p">:</span> <span class="n">sm_font</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;range&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="n">spacy_category</span><span class="p">,</span>
                <span class="s2">&quot;diverging&quot;</span><span class="p">:</span> <span class="n">spacy_diverging</span><span class="p">,</span>
                <span class="s2">&quot;heatmap&quot;</span><span class="p">:</span> <span class="n">spacy_sequential</span><span class="p">,</span>
                <span class="s2">&quot;ramp&quot;</span><span class="p">:</span> <span class="n">spacy_sequential</span><span class="p">,</span>
                <span class="s2">&quot;ordinal&quot;</span><span class="p">:</span> <span class="n">spacy_sequential</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">config</span>

<span class="c1"># alt.themes.register(&quot;spacy-base&quot;, spacy_base_theme)</span>
<span class="c1"># alt.themes.register(&quot;spacy-mono&quot;, spacy_mono_theme)</span>
</pre></div>

    </div>
</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Register-Theme">Register Theme<a class="anchor-link" href="#Register-Theme">&#182;</a></h3>
</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">themes</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;spacy_base&quot;</span><span class="p">,</span> <span class="n">spacy_base</span><span class="p">)</span>
<span class="n">alt</span><span class="o">.</span><span class="n">themes</span><span class="o">.</span><span class="n">enable</span><span class="p">(</span><span class="s2">&quot;spacy_base&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    



<div class="output_text output_subarea output_execute_result">
<pre>ThemeRegistry.enable(&#39;spacy_base&#39;)</pre>
</div>

</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Building-Complex-Selections">Building Complex Selections<a class="anchor-link" href="#Building-Complex-Selections">&#182;</a></h3><p>Selection values can be accessed directly and used in expressions that affect the chart. For example, here we create a slider to choose a cutoff value, and color points based on whether they are smaller or larger than the value:</p>

</div>
</div>
</div>

  

  <div class="nbinteract-hide_in
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># nbi:hide_in</span>
<span class="n">rand</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;xval&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
    <span class="s1">&#39;yval&#39;</span><span class="p">:</span> <span class="n">rand</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span>
<span class="p">})</span>

<span class="n">slider</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">binding_range</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;CutOff:&#39;</span><span class="p">)</span>
<span class="n">selector</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_single</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;SelectorName&quot;</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;cutoff&#39;</span><span class="p">],</span>
    <span class="n">bind</span><span class="o">=</span><span class="n">slider</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;cutoff&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">})</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;xval&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;yval&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span>
        <span class="n">alt</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">xval</span> <span class="o">&lt;</span> <span class="n">selector</span><span class="o">.</span><span class="n">cutoff</span><span class="p">,</span>
        <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">),</span> <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span>
    <span class="n">selector</span>
<span class="p">)</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">1024</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-0dfb350d7334424a8de11c3bddefd7b5"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-0dfb350d7334424a8de11c3bddefd7b5") {
      outputDiv = document.getElementById("altair-viz-0dfb350d7334424a8de11c3bddefd7b5");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"arc": {"fill": "#077fa6"}, "area": {"fill": "#077fa6"}, "circle": {"fill": "#077fa6", "stroke": "#1a1e23", "strokeWidth": 0.5}, "line": {"stroke": "#077fa6"}, "path": {"stroke": "#077fa6"}, "point": {"stroke": "#077fa6"}, "rect": {"fill": "#077fa6"}, "shape": {"stroke": "#077fa6"}, "symbol": {"fill": "#077fa6"}, "title": {"color": "#1a1e23", "fontSize": 21.6}, "axis": {"titleColor": "#1a1e23", "titleFontSize": 16, "labelColor": "#1a1e23", "labelFontSize": 12.8, "gridColor": "#f5f5f5", "domainColor": "#1a1e23", "tickColor": "#fff"}, "header": {"labelFontSize": 16, "titleFontSize": 16}, "legend": {"titleColor": "#1a1e23", "titleFontSize": 16, "labelColor": "#1a1e23", "labelFontSize": 12.8}, "range": {"category": ["#077fa6", "#047c5c", "#6642d1"], "diverging": ["#047c5c", "#50957b", "#81ad9b", "#afc5bc", "#dedede", "#bacfdd", "#94c1db", "#66b2d9", "#09a4d7"], "heatmap": ["#8efcff", "#6bddff", "#46c0f5", "#0da6d9", "#018abb", "#006f9f", "#005583", "#003d68", "#00254e"], "ramp": ["#8efcff", "#6bddff", "#46c0f5", "#0da6d9", "#018abb", "#006f9f", "#005583", "#003d68", "#00254e"], "ordinal": ["#8efcff", "#6bddff", "#46c0f5", "#0da6d9", "#018abb", "#006f9f", "#005583", "#003d68", "#00254e"]}}, "data": {"name": "data-a99664901d810a6b330d8e4930eed708"}, "mark": "point", "encoding": {"color": {"condition": {"value": "red", "test": "(datum.xval < SelectorName.cutoff)"}, "value": "blue"}, "x": {"field": "xval", "type": "quantitative"}, "y": {"field": "yval", "type": "quantitative"}}, "selection": {"SelectorName": {"type": "single", "fields": ["cutoff"], "bind": {"input": "range", "max": 100, "min": 0, "name": "CutOff:", "step": 1}, "init": {"cutoff": 50}}, "selector003": {"type": "interval", "bind": "scales", "encodings": ["x", "y"]}}, "width": 1024, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-a99664901d810a6b330d8e4930eed708": [{"xval": 0, "yval": 0.4967141530112327}, {"xval": 1, "yval": 0.358449851840048}, {"xval": 2, "yval": 1.0061383899407406}, {"xval": 3, "yval": 2.5291682463487657}, {"xval": 4, "yval": 2.2950148716254297}, {"xval": 5, "yval": 2.060877914676249}, {"xval": 6, "yval": 3.6400907301836405}, {"xval": 7, "yval": 4.407525459336549}, {"xval": 8, "yval": 3.938051073401597}, {"xval": 9, "yval": 4.4806111169875615}, {"xval": 10, "yval": 4.017193424175099}, {"xval": 11, "yval": 3.5514636706048424}, {"xval": 12, "yval": 3.7934259421708765}, {"xval": 13, "yval": 1.8801456975130786}, {"xval": 14, "yval": 0.15522786500004582}, {"xval": 15, "yval": -0.4070596642409269}, {"xval": 16, "yval": -1.4198907845753506}, {"xval": 17, "yval": -1.1056434519800766}, {"xval": 18, "yval": -2.0136675275012874}, {"xval": 19, "yval": -3.4259712288365787}, {"xval": 20, "yval": -1.9603224599150246}, {"xval": 21, "yval": -2.1860987604015603}, {"xval": 22, "yval": -2.1185705557136365}, {"xval": 23, "yval": -3.5433187419270933}, {"xval": 24, "yval": -4.087701466452276}, {"xval": 25, "yval": -3.9767788767424097}, {"xval": 26, "yval": -5.127772454164712}, {"xval": 27, "yval": -4.75207443581904}, {"xval": 28, "yval": -5.352713125737845}, {"xval": 29, "yval": -5.644406875531121}, {"xval": 30, "yval": -6.2461134877605184}, {"xval": 31, "yval": -4.3938353032515804}, {"xval": 32, "yval": -4.407332527989515}, {"xval": 33, "yval": -5.4650434569454145}, {"xval": 34, "yval": -4.642498544842225}, {"xval": 35, "yval": -5.863342194813248}, {"xval": 36, "yval": -5.654478599808492}, {"xval": 37, "yval": -7.614148723688268}, {"xval": 38, "yval": -8.942334772586698}, {"xval": 39, "yval": -8.745473536717574}, {"xval": 40, "yval": -8.007006956722163}, {"xval": 41, "yval": -7.835638675532193}, {"xval": 42, "yval": -7.951286957920433}, {"xval": 43, "yval": -8.252390653509723}, {"xval": 44, "yval": -9.73091264387715}, {"xval": 45, "yval": -10.450756852271859}, {"xval": 46, "yval": -10.911395623231646}, {"xval": 47, "yval": -9.854273397012731}, {"xval": 48, "yval": -9.51065510744427}, {"xval": 49, "yval": -11.273695262807005}, {"xval": 50, "yval": -10.94961129341221}, {"xval": 51, "yval": -11.334693573828526}, {"xval": 52, "yval": -12.011615574134485}, {"xval": 53, "yval": -11.399939285293616}, {"xval": 54, "yval": -10.368939762797666}, {"xval": 55, "yval": -9.437659643681467}, {"xval": 56, "yval": -10.276877166904105}, {"xval": 57, "yval": -10.58608954275532}, {"xval": 58, "yval": -10.254826111351756}, {"xval": 59, "yval": -9.279280984229397}, {"xval": 60, "yval": -9.758455222074687}, {"xval": 61, "yval": -9.944114198738504}, {"xval": 62, "yval": -11.050449172744532}, {"xval": 63, "yval": -12.246655796825202}, {"xval": 64, "yval": -11.434129974431004}, {"xval": 65, "yval": -10.07788994586018}, {"xval": 66, "yval": -10.149900067440514}, {"xval": 67, "yval": -9.14636716954849}, {"xval": 68, "yval": -8.784731144500856}, {"xval": 69, "yval": -9.42985089910598}, {"xval": 70, "yval": -9.068455293597568}, {"xval": 71, "yval": -7.5304187271315985}, {"xval": 72, "yval": -7.56624476624155}, {"xval": 73, "yval": -6.001601110427544}, {"xval": 74, "yval": -8.621346214517288}, {"xval": 75, "yval": -7.799443710142064}, {"xval": 76, "yval": -7.712396641903893}, {"xval": 77, "yval": -8.011403992369761}, {"xval": 78, "yval": -7.919643215834259}, {"xval": 79, "yval": -9.907212130435152}, {"xval": 80, "yval": -10.126884018272664}, {"xval": 81, "yval": -9.769771446760917}, {"xval": 82, "yval": -8.2918774020194}, {"xval": 83, "yval": -8.810147620293048}, {"xval": 84, "yval": -9.618641223186236}, {"xval": 85, "yval": -10.120398266770772}, {"xval": 86, "yval": -9.204996149068698}, {"xval": 87, "yval": -8.876245039409014}, {"xval": 88, "yval": -9.406005243176052}, {"xval": 89, "yval": -8.892737810062696}, {"xval": 90, "yval": -8.795660260714657}, {"xval": 91, "yval": -7.827015270181768}, {"xval": 92, "yval": -8.529068364059121}, {"xval": 93, "yval": -8.85673051065689}, {"xval": 94, "yval": -9.248838663789048}, {"xval": 95, "yval": -10.712353611921166}, {"xval": 96, "yval": -10.41623333485659}, {"xval": 97, "yval": -10.1551780626767}, {"xval": 98, "yval": -10.15006460603424}, {"xval": 99, "yval": -10.384651739409387}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Multiple-Interactions">Multiple Interactions<a class="anchor-link" href="#Multiple-Interactions">&#182;</a></h4><p>This example shows how multiple user inputs can be layered onto a chart. The four inputs have functionality as follows:</p>
<ul>
<li>Dropdown: Filters the movies by genre</li>
<li>Radio Buttons: Highlights certain films by Worldwide Gross</li>
<li>Mouse Drag and Scroll: Zooms the x and y scales to allow for panning.</li>
</ul>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">movies</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">UrlData</span><span class="p">(</span>
    <span class="n">data</span><span class="o">.</span><span class="n">movies</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
    <span class="nb">format</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">DataFormat</span><span class="p">(</span><span class="n">parse</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Release_Date&quot;</span><span class="p">:</span><span class="s2">&quot;date&quot;</span><span class="p">})</span>
<span class="p">)</span>
<span class="n">ratings</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;NC-17&#39;</span><span class="p">,</span> <span class="s1">&#39;PG&#39;</span><span class="p">,</span> <span class="s1">&#39;PG-13&#39;</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">]</span>
<span class="n">genres</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Action&#39;</span><span class="p">,</span> <span class="s1">&#39;Adventure&#39;</span><span class="p">,</span> <span class="s1">&#39;Black Comedy&#39;</span><span class="p">,</span> <span class="s1">&#39;Comedy&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Concert/Performance&#39;</span><span class="p">,</span> <span class="s1">&#39;Documentary&#39;</span><span class="p">,</span> <span class="s1">&#39;Drama&#39;</span><span class="p">,</span> <span class="s1">&#39;Horror&#39;</span><span class="p">,</span> <span class="s1">&#39;Musical&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Romantic Comedy&#39;</span><span class="p">,</span> <span class="s1">&#39;Thriller/Suspense&#39;</span><span class="p">,</span> <span class="s1">&#39;Western&#39;</span><span class="p">]</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;All&#39;</span><span class="p">,</span> <span class="s1">&#39;Action&#39;</span><span class="p">,</span> <span class="s1">&#39;Adventure&#39;</span><span class="p">,</span> <span class="s1">&#39;Black Comedy&#39;</span><span class="p">,</span> <span class="s1">&#39;Comedy&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Concert/Performance&#39;</span><span class="p">,</span> <span class="s1">&#39;Documentary&#39;</span><span class="p">,</span> <span class="s1">&#39;Drama&#39;</span><span class="p">,</span> <span class="s1">&#39;Horror&#39;</span><span class="p">,</span> <span class="s1">&#39;Musical&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Romantic Comedy&#39;</span><span class="p">,</span> <span class="s1">&#39;Thriller/Suspense&#39;</span><span class="p">,</span> <span class="s1">&#39;Western&#39;</span><span class="p">]</span>

<span class="n">base</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">movies</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">(</span><span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">transform_calculate</span><span class="p">(</span>
    <span class="n">Rounded_IMDB_Rating</span> <span class="o">=</span> <span class="s2">&quot;floor(datum.IMDB_Rating)&quot;</span><span class="p">,</span>
    <span class="n">Hundred_Million_Production</span> <span class="o">=</span>  <span class="s2">&quot;datum.Production_Budget &gt; 100000000.0 ? 100 : 10&quot;</span><span class="p">,</span>
    <span class="n">Release_Year</span> <span class="o">=</span> <span class="s2">&quot;year(datum.Release_Date)&quot;</span>
<span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">IMDB_Rating</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">FieldOneOfPredicate</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s1">&#39;MPAA_Rating&#39;</span><span class="p">,</span> <span class="n">oneOf</span><span class="o">=</span><span class="n">ratings</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;Worldwide_Gross:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">100000</span><span class="p">,</span><span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="p">),</span> <span class="n">clamp</span><span class="o">=</span><span class="kc">True</span><span class="p">)),</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;IMDB_Rating:Q&#39;</span><span class="p">,</span>
    <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Title:N&quot;</span>
<span class="p">)</span>

<span class="c1"># A slider filter</span>
<span class="n">year_slider</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">binding_range</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">1969</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2018</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">slider_selection</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_single</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="n">year_slider</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Release_Year&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Release Year_&quot;</span><span class="p">)</span>


<span class="n">filter_year</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span>
    <span class="n">slider_selection</span>
<span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span>
    <span class="n">slider_selection</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Slider Filtering&quot;</span><span class="p">)</span>

<span class="c1"># A dropdown filter</span>
<span class="n">genre_dropdown</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">binding_select</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">genres</span><span class="p">)</span>
<span class="n">genre_select</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_single</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Major_Genre&#39;</span><span class="p">],</span> <span class="n">bind</span><span class="o">=</span><span class="n">genre_dropdown</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Genre&#39;</span><span class="p">)</span>

<span class="n">filter_genres</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span>
    <span class="n">genre_select</span>
<span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span>
    <span class="n">genre_select</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Dropdown Filtering&quot;</span><span class="p">)</span>

<span class="c1">#color changing marks</span>
<span class="n">rating_radio</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">binding_radio</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">ratings</span><span class="p">)</span>

<span class="n">rating_select</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_single</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;MPAA_Rating&#39;</span><span class="p">],</span> <span class="n">bind</span><span class="o">=</span><span class="n">rating_radio</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Rating&#39;</span><span class="p">)</span>
<span class="n">rating_color_condition</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">rating_select</span><span class="p">,</span>
                      <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;MPAA_Rating:N&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
                      <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;lightgray&#39;</span><span class="p">))</span>

<span class="n">highlight_ratings</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span>
    <span class="n">rating_select</span>
<span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">color</span><span class="o">=</span><span class="n">rating_color_condition</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Radio Button Highlighting&quot;</span><span class="p">)</span>

<span class="c1"># Boolean selection for format changes</span>
<span class="n">input_checkbox</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">binding_checkbox</span><span class="p">()</span>
<span class="n">checkbox_selection</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_single</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="n">input_checkbox</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Budget Films&#39;</span><span class="p">)</span>

<span class="n">size_checkbox_condition</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">checkbox_selection</span><span class="p">,</span>
                                        <span class="n">alt</span><span class="o">.</span><span class="n">SizeValue</span><span class="p">(</span><span class="mi">25</span><span class="p">),</span>
                                        <span class="n">alt</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="s1">&#39;Hundred_Million_Production:Q&#39;</span><span class="p">)</span>
                                       <span class="p">)</span>

<span class="n">budget_sizing</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span>
    <span class="n">checkbox_selection</span>
<span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">size</span><span class="o">=</span><span class="n">size_checkbox_condition</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Checkbox Formatting&quot;</span><span class="p">)</span>


<span class="p">(</span> <span class="n">filter_year</span> <span class="o">|</span> <span class="n">filter_genres</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">highlight_ratings</span> <span class="o">|</span> <span class="n">budget_sizing</span>  <span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-3f8fed65b4514b88a362f75fb80a00fe"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-3f8fed65b4514b88a362f75fb80a00fe") {
      outputDiv = document.getElementById("altair-viz-3f8fed65b4514b88a362f75fb80a00fe");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"arc": {"fill": "#077fa6"}, "area": {"fill": "#077fa6"}, "circle": {"fill": "#077fa6", "stroke": "#1a1e23", "strokeWidth": 0.5}, "line": {"stroke": "#077fa6"}, "path": {"stroke": "#077fa6"}, "point": {"stroke": "#077fa6"}, "rect": {"fill": "#077fa6"}, "shape": {"stroke": "#077fa6"}, "symbol": {"fill": "#077fa6"}, "title": {"color": "#1a1e23", "fontSize": 21.6}, "axis": {"titleColor": "#1a1e23", "titleFontSize": 16, "labelColor": "#1a1e23", "labelFontSize": 12.8, "gridColor": "#f5f5f5", "domainColor": "#1a1e23", "tickColor": "#fff"}, "header": {"labelFontSize": 16, "titleFontSize": 16}, "legend": {"titleColor": "#1a1e23", "titleFontSize": 16, "labelColor": "#1a1e23", "labelFontSize": 12.8}, "range": {"category": ["#077fa6", "#047c5c", "#6642d1"], "diverging": ["#047c5c", "#50957b", "#81ad9b", "#afc5bc", "#dedede", "#bacfdd", "#94c1db", "#66b2d9", "#09a4d7"], "heatmap": ["#8efcff", "#6bddff", "#46c0f5", "#0da6d9", "#018abb", "#006f9f", "#005583", "#003d68", "#00254e"], "ramp": ["#8efcff", "#6bddff", "#46c0f5", "#0da6d9", "#018abb", "#006f9f", "#005583", "#003d68", "#00254e"], "ordinal": ["#8efcff", "#6bddff", "#46c0f5", "#0da6d9", "#018abb", "#006f9f", "#005583", "#003d68", "#00254e"]}}, "vconcat": [{"hconcat": [{"mark": {"type": "point", "filled": true}, "encoding": {"tooltip": {"field": "Title", "type": "nominal"}, "x": {"field": "Worldwide_Gross", "scale": {"clamp": true, "domain": [100000, 1000000000]}, "type": "quantitative"}, "y": {"field": "IMDB_Rating", "type": "quantitative"}}, "height": 200, "selection": {"Release Year_": {"type": "single", "bind": {"input": "range", "max": 2018, "min": 1969, "step": 1}, "fields": ["Release_Year"]}}, "title": "Slider Filtering", "transform": [{"calculate": "floor(datum.IMDB_Rating)", "as": "Rounded_IMDB_Rating"}, {"calculate": "datum.Production_Budget > 100000000.0 ? 100 : 10", "as": "Hundred_Million_Production"}, {"calculate": "year(datum.Release_Date)", "as": "Release_Year"}, {"filter": "(datum.IMDB_Rating > 0)"}, {"filter": {"field": "MPAA_Rating", "oneOf": ["G", "NC-17", "PG", "PG-13", "R"]}}, {"filter": {"selection": "Release Year_"}}], "width": 200}, {"mark": {"type": "point", "filled": true}, "encoding": {"tooltip": {"field": "Title", "type": "nominal"}, "x": {"field": "Worldwide_Gross", "scale": {"clamp": true, "domain": [100000, 1000000000]}, "type": "quantitative"}, "y": {"field": "IMDB_Rating", "type": "quantitative"}}, "height": 200, "selection": {"Genre": {"type": "single", "fields": ["Major_Genre"], "bind": {"input": "select", "options": ["Action", "Adventure", "Black Comedy", "Comedy", "Concert/Performance", "Documentary", "Drama", "Horror", "Musical", "Romantic Comedy", "Thriller/Suspense", "Western"]}}}, "title": "Dropdown Filtering", "transform": [{"calculate": "floor(datum.IMDB_Rating)", "as": "Rounded_IMDB_Rating"}, {"calculate": "datum.Production_Budget > 100000000.0 ? 100 : 10", "as": "Hundred_Million_Production"}, {"calculate": "year(datum.Release_Date)", "as": "Release_Year"}, {"filter": "(datum.IMDB_Rating > 0)"}, {"filter": {"field": "MPAA_Rating", "oneOf": ["G", "NC-17", "PG", "PG-13", "R"]}}, {"filter": {"selection": "Genre"}}], "width": 200}]}, {"hconcat": [{"mark": {"type": "point", "filled": true}, "encoding": {"color": {"condition": {"field": "MPAA_Rating", "legend": null, "type": "nominal", "selection": "Rating"}, "value": "lightgray"}, "tooltip": {"field": "Title", "type": "nominal"}, "x": {"field": "Worldwide_Gross", "scale": {"clamp": true, "domain": [100000, 1000000000]}, "type": "quantitative"}, "y": {"field": "IMDB_Rating", "type": "quantitative"}}, "height": 200, "selection": {"Rating": {"type": "single", "fields": ["MPAA_Rating"], "bind": {"input": "radio", "options": ["G", "NC-17", "PG", "PG-13", "R"]}}}, "title": "Radio Button Highlighting", "transform": [{"calculate": "floor(datum.IMDB_Rating)", "as": "Rounded_IMDB_Rating"}, {"calculate": "datum.Production_Budget > 100000000.0 ? 100 : 10", "as": "Hundred_Million_Production"}, {"calculate": "year(datum.Release_Date)", "as": "Release_Year"}, {"filter": "(datum.IMDB_Rating > 0)"}, {"filter": {"field": "MPAA_Rating", "oneOf": ["G", "NC-17", "PG", "PG-13", "R"]}}], "width": 200}, {"mark": {"type": "point", "filled": true}, "encoding": {"size": {"condition": {"value": 25, "selection": "Budget Films"}, "field": "Hundred_Million_Production", "type": "quantitative"}, "tooltip": {"field": "Title", "type": "nominal"}, "x": {"field": "Worldwide_Gross", "scale": {"clamp": true, "domain": [100000, 1000000000]}, "type": "quantitative"}, "y": {"field": "IMDB_Rating", "type": "quantitative"}}, "height": 200, "selection": {"Budget Films": {"type": "single", "bind": {"input": "checkbox"}}}, "title": "Checkbox Formatting", "transform": [{"calculate": "floor(datum.IMDB_Rating)", "as": "Rounded_IMDB_Rating"}, {"calculate": "datum.Production_Budget > 100000000.0 ? 100 : 10", "as": "Hundred_Million_Production"}, {"calculate": "year(datum.Release_Date)", "as": "Release_Year"}, {"filter": "(datum.IMDB_Rating > 0)"}, {"filter": {"field": "MPAA_Rating", "oneOf": ["G", "NC-17", "PG", "PG-13", "R"]}}], "width": 200}]}], "data": {"url": "https://cdn.jsdelivr.net/npm/vega-datasets@v1.29.0/data/movies.json", "format": {"parse": {"Release_Date": "date"}}}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json"}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Fick-Dich">Fick Dich<a class="anchor-link" href="#Fick-Dich">&#182;</a></h4>
</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

  </div>

